<sdf version='1.10'>
  <world name='simple_test'>
    <!-- Physics: realistic & consistent on basic machines -->
    <physics name="ode_cpu" type="ode">
      <!-- 500 Hz sim tick; good balance for CPU-only -->
      <max_step_size>0.002</max_step_size>
      <real_time_update_rate>500</real_time_update_rate>
      <real_time_factor>1.0</real_time_factor>
      <ode>
        <solver>
          <type>quick</type>
          <iters>50</iters>
          <sor>1.3</sor>
        </solver>
        <!-- Contact params tuned for stable, non-bouncy flips -->
        <constraints>
          <cfm>0.0</cfm>
          <erp>0.2</erp>
        </constraints>
      </ode>
    </physics>

    <plugin name='gz::sim::systems::Physics' filename='gz-sim-physics-system'/>
    <plugin name='gz::sim::systems::UserCommands' filename='gz-sim-user-commands-system'/>
    <plugin name='gz::sim::systems::SceneBroadcaster' filename='gz-sim-scene-broadcaster-system'/>
    <plugin name='gz::sim::systems::Contact' filename='gz-sim-contact-system'/>
    <plugin filename="gz-sim-sensors-system" name="gz::sim::systems::Sensors"><render_engine>ogre2</render_engine></plugin>

     <!-- Earth gravity -->
    <gravity>0 0 -9.81</gravity>

    <magnetic_field>5.5644999999999998e-06 2.2875799999999999e-05 -4.2388400000000002e-05</magnetic_field>
    <atmosphere type='adiabatic'/>

    <!-- Lighting: simple, stable; shadows off by default -->
    <scene>
      <ambient>0.5 0.5 0.5 1</ambient>
      <background>0.7 0.7 0.75 1</background>
      <shadows>true</shadows>
    </scene>
    

    <!-- Base platform -->
    <model name="platform">
      <static>true</static>
      <link name = "link_platform">
        <pose>0 0 0 0 0 0</pose>
        <collision name = "col">
            <geometry>
                <box><size>8 8 .5</size></box>
            </geometry>
        </collision>

        <visual name="vis">
            <geometry>
                <box><size>8 8 .5</size></box>
            </geometry>

             <material>
                <ambient>0.35 0.35 0.35 1</ambient>
                <diffuse>0.45 0.45 0.45 1</diffuse>
                <pbr>
                <metal>
                    <albedo_map>model://textures/wood_textures/wood_texture_seamless_1x5.jpg</albedo_map>
                    <roughness>0.9</roughness>
                    <metalness>0.0</metalness>
                </metal>
                </pbr>
          </material>
        </visual>
      </link>
    </model>

    <!--Driving platform-->
    <model name="driving platform">
      <static>true</static>
      <link name="link_base_driving_platform">
        <pose>-4 -8 0 0 0 0</pose>
        <collision name="col">
          <geometry>
            <box><size>16 8 .5</size></box>
          </geometry>
        </collision>

        <visual name="vis">
            <geometry>
                <box><size>16 8 .5</size></box>
            </geometry>

             <material>
                <ambient>0.35 0.35 0.35 1</ambient>
                <diffuse>0.45 0.45 0.45 1</diffuse>
                <pbr>
                <metal>
                    <albedo_map>model://textures/wood_textures/wood_texture_seamless_1x5.jpg</albedo_map>
                    <roughness>0.9</roughness>
                    <metalness>0.0</metalness>
                </metal>
                </pbr>
          </material>
        </visual>
      </link>

      <link name="link_driving_marker">
        <pose>-4 -3 .5 0 0 0</pose>
        <collision name="col">
          <geometry>
            <box><size>.5 2 .5</size></box>
          </geometry>
        </collision>

        <visual name="vis">
            <geometry>
                <box><size>.5 2 .5</size></box>
            </geometry>

             <material>
                <ambient>0.35 0.35 0.35 1</ambient>
                <diffuse>0.45 0.45 0.45 1</diffuse>
                <pbr>
                <metal>
                    <albedo_map>model://textures/stone_textures/stone_wall_seamless_2x1.jpg</albedo_map>
                    <roughness>0.9</roughness>
                    <metalness>0.0</metalness>
                </metal>
                </pbr>
          </material>
        </visual>
      </link>
    </model>

    <!--Rampy-->

    <model name="roll_ramp">
      <static>true</static>

      <link name="link_up_ramp">
        <pose>4.5 -6.5 .75 -0.436 0 0</pose>
        <collision name="col">
          <geometry>
            <box><size>1 4 .5</size></box>
          </geometry>
        </collision>

        <visual name="vis">
            <geometry>
                <box><size>1 4 .5</size></box>
            </geometry>

             <material>
                <ambient>0.35 0.35 0.35 1</ambient>
                <diffuse>0.45 0.45 0.45 1</diffuse>
                <pbr>
                <metal>
                    <albedo_map>model://textures/stone_textures/stone_wall_seamless_2x1.jpg</albedo_map>
                    <roughness>0.9</roughness>
                    <metalness>0.0</metalness>
                </metal>
                </pbr>
          </material>
        </visual>
      </link> 

      <link name="link_wait_platform">
        <pose>4.5 -8.5 1.55 0 0 0</pose>
        <collision name="col">
          <geometry>
            <box><size>3 .5 .5</size></box>
          </geometry>
        </collision>

        <visual name="vis">
            <geometry>
                <box><size>2.5 .5 .5</size></box>
            </geometry>

             <material>
                <ambient>0.35 0.35 0.35 1</ambient>
                <diffuse>0.45 0.45 0.45 1</diffuse>
                <pbr>
                <metal>
                    <albedo_map>model://textures/wood_textures/wood_texture_seamless_1x5.jpg</albedo_map>
                    <roughness>0.9</roughness>
                    <metalness>0.0</metalness>
                </metal>
                </pbr>
          </material>
        </visual>
      </link>

      <link name="link_down_ramp">
        <pose>4.5 -10.5 .75 -0.436 0 3.141</pose>
        <collision name="col">
          <geometry>
            <box><size>1 4 .5</size></box>
          </geometry>
        </collision>

        <visual name="vis">
            <geometry>
                <box><size>1 4 .5</size></box>
            </geometry>

             <material>
                <ambient>0.35 0.35 0.35 1</ambient>
                <diffuse>0.45 0.45 0.45 1</diffuse>
                <pbr>
                <metal>
                    <albedo_map>model://textures/stone_textures/stone_wall_seamless_2x1.jpg</albedo_map>
                    <roughness>0.9</roughness>
                    <metalness>0.0</metalness>
                </metal>
                </pbr>
          </material>
        </visual>
      </link> 

      <link name="link_roll_off_platform">
        <pose>4.5 -4 0 0 0 0</pose>
        <collision name="col">
          <geometry>
            <box><size>2 20 .5</size></box>
          </geometry>
        </collision>

        <visual name="vis">
            <geometry>
                <box><size>2 20 .5</size></box>
            </geometry>

             <material>
                <ambient>0.35 0.35 0.35 1</ambient>
                <diffuse>0.45 0.45 0.45 1</diffuse>
                <pbr>
                <metal>
                    <albedo_map>model://textures/wood_textures/wood_texture_seamless_1x5.jpg</albedo_map>
                    <roughness>0.9</roughness>
                    <metalness>0.0</metalness>
                </metal>
                </pbr>
          </material>
        </visual>
      </link>

      <link name="link_wall_stopper_hit">
        <pose>4 -14 0 1.571 0 0</pose>
        <collision name="col">
          <geometry>
            <box><size>2 3 .5</size></box>
          </geometry>
        </collision>

        <visual name="vis">
            <geometry>
                <box><size>2 3 .5</size></box>
            </geometry>

             <material>
                <ambient>0.35 0.35 0.35 1</ambient>
                <diffuse>0.45 0.45 0.45 1</diffuse>
                <pbr>
                <metal>
                    <albedo_map>model://textures/wood_textures/wood_texture_seamless_1x5.jpg</albedo_map>
                    <roughness>0.9</roughness>
                    <metalness>0.0</metalness>
                </metal>
                </pbr>
          </material>
        </visual>
      </link>
    </model>

        <!--     ____   _____ ______          _   _   -->
    <!--    / __ \ / ____|  ____|   /\   | \ | |  -->
    <!--   | |  | | |    | |__     /  \  |  \| |  -->
    <!--   | |  | | |    |  __|   / /\ \ | . ` |  -->
    <!--   | |__| | |____| |____ / ____ \| |\  |  -->
    <!--    \____/ \_____|______/_/    \_\_| \_|  -->
    <!-- This is the coast waves model stored in models/coast_waves_2 -->
    <include>
      <name>coast_waves_2</name>
      <uri>model://coast_waves_2/model.sdf</uri>
      <pose>0 0 -10 0 0 0</pose>
    </include>

        <!--   _______ _    _ ______    _____ _    _ _   _   -->
    <!--  |__   __| |  | |  ____|  / ____| |  | | \ | |  -->
    <!--     | |  | |__| | |__    | (___ | |  | |  \| |  -->
    <!--     | |  |  __  |  __|    \___ \| |  | | . ` |  -->
    <!--     | |  | |  | | |____   ____) | |__| | |\  |  -->
    <!--     |_|  |_|  |_|______| |_____/ \____/|_| \_|  -->
    <light name='sun' type='directional'>
      <pose>0 0 10 0 0 0</pose>
      <cast_shadows>true</cast_shadows>
      <intensity>1</intensity>
      <direction>-0.5 0.10000000000000001 -0.90000000000000002</direction>
      <diffuse>0.800000012 0.800000012 0.800000012 1</diffuse>
      <specular>0.200000003 0.200000003 0.200000003 1</specular>
      <attenuation>
        <range>1000</range>
        <linear>0.01</linear>
        <constant>0.90000000000000002</constant>
        <quadratic>0.001</quadratic>
      </attenuation>
      <spot>
        <inner_angle>0</inner_angle>
        <outer_angle>0</outer_angle>
        <falloff>0</falloff>
      </spot>
    </light>
  </world>
</sdf>